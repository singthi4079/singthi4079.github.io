<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Blue">
  <!-- Open Graph Data -->
  <meta property="og:title" content="Java编程思想笔记-一切都是对象"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Blue的博客"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://singthi4079.github.ioundefined"/>
  
    <link rel="alternate" href="/atom.xml" title="Blue的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>Blue的博客</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">Java编程思想笔记-一切都是对象</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/<your-github-username>">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:<your-email-address>">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By Blue</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2017-06-06</span>
            <span class="time">12:46:52</span>
          </span>
          
        </div>
        <!-- Tags -->
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>在Java中一切都被视为对象, 但是操纵的标识符实际上是对象的一个”引用”. 类似于遥控器(引用)来操纵电视器(对象). </p>
<p>即使没有电视器, 遥控器也能独立存在. 也就是说, 拥有一个引用, 并不一定需要有一个对象与它关联.</p>
<p>创建一个<code>String</code>应用:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String s;</div></pre></td></tr></table></figure>
<p>这里创建的只是引用, 并不是对象. 如果此时向s发送一个消息, 就会返回一个运行时异常. 因为s没有与任何事物相关联.</p>
<p>一种安全的做法: 创建一个引用同时初始化:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String s = <span class="string">"asdf"</span>;</div></pre></td></tr></table></figure>
<p>通常使用<code>new</code>操作符创建对象.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String s = <span class="keyword">new</span> String(<span class="string">"asdf"</span>);</div></pre></td></tr></table></figure>
<p>有五个地方可以存储数据:</p>
<ol>
<li><strong>寄存器</strong>. 最快的存储区, 位于处理器内部, 与其他存储区不同. 寄存器数量极其有限, 所有寄存器根据需要进行分配. 不能直接控制, 也不能在程序中感觉到寄存器的存在.</li>
<li><strong>堆栈</strong>. 位于通用RAM(随机访问存储器). 这是一种快速有效的分配存储方法, 仅次于寄存器. 创建程序时, Java系统必须知道存储在堆栈内所有项的确切生命周期, 以便上下移动堆栈指针(堆栈指针向下移则分配新的内存, 向上移则释放内存). <strong>Java的对象引用存储在堆栈中</strong>. </li>
<li><strong>堆</strong>. 一种通用的内存池(位于RAM中), <strong>用于存放所有的Java对象</strong>. 堆不同于堆栈的好处是: 编译器不需要知道存储的数据在堆里存活多长时间. 当需要一个对象时, 只需用<code>new</code>写一行代码, 当执行这行代码时,  会自动在堆里进行存储分配. 用堆进行存储分配和清理可能比用堆栈进行存储分配需要更多的时间.</li>
<li><strong>常量粗糙</strong>. 常量值通常直接存放在程序代码内部.</li>
<li><strong>非RAM存储</strong>. 如果数据完全存活于程序之外, 那么它可以不受程序的任何控制, 在程序没有运行时也可以存在. 两个基本例子是:<em>流对象</em>和<em>持久化对象</em>.</li>
</ol>
<p><strong>基本类型</strong>存储在堆栈中, 这样会更加高效.</p>
<p>Java确定每种基本类型所占存储空间的大小. 并不会随机器硬件架构的变化而变化. </p>
<table>
<thead>
<tr>
<th style="text-align:center">基本类型</th>
<th style="text-align:center">大小</th>
<th style="text-align:center">最小值</th>
<th style="text-align:center">最大值</th>
<th style="text-align:center">包装器类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">boolean</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">Boolean</td>
</tr>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:center">16-bit</td>
<td style="text-align:center">Unicode 0</td>
<td style="text-align:center">Unicode 2^16 -1</td>
<td style="text-align:center">Character</td>
</tr>
<tr>
<td style="text-align:center">byte</td>
<td style="text-align:center">8 bits</td>
<td style="text-align:center">-128</td>
<td style="text-align:center">+127</td>
<td style="text-align:center">Byte</td>
</tr>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:center">16 bits</td>
<td style="text-align:center">-2^15</td>
<td style="text-align:center">+2^15 - 1</td>
<td style="text-align:center">Short</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">32 bits</td>
<td style="text-align:center">-2^31</td>
<td style="text-align:center">+2^31 - 1</td>
<td style="text-align:center">Integer</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:center">64 bits</td>
<td style="text-align:center">-2^63</td>
<td style="text-align:center">+2^63 - 1</td>
<td style="text-align:center">Long</td>
</tr>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">32 bits</td>
<td style="text-align:center">IEEE745</td>
<td style="text-align:center">IEEE745</td>
<td style="text-align:center">Float</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">64 bits</td>
<td style="text-align:center">IEEE745</td>
<td style="text-align:center">IEEE745</td>
<td style="text-align:center">Double</td>
</tr>
<tr>
<td style="text-align:center">void</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">Void</td>
</tr>
</tbody>
</table>
<p>所有数值类型都有正负号, 没有无符号的数字类型.</p>
<p>基本类型具有的包装器类, 使得可以在堆中创建一个非基本对象, 用来表示对应的基本类型:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">char</span> c = <span class="string">'x'</span>;</div><div class="line">Character ch = <span class="keyword">new</span> Character(c);</div></pre></td></tr></table></figure>
<p>也可以这样用:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Character ch = <span class="keyword">new</span> Character(<span class="string">'x'</span>);</div></pre></td></tr></table></figure>
<p><strong>Java SE5 的自动包装功能将自动地将基本类型转换为包装器类型</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Character ch = <span class="string">'x'</span>;</div></pre></td></tr></table></figure>
<p>并可以反向转换:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">char</span> c = ch;</div></pre></td></tr></table></figure>
<p>Java 提供两个用于高精度计算的类: <code>BigInteger</code>和<code>BigDecimal</code>. 能够作用于<code>int</code>或<code>float</code>的操作, 也同样能作用于<code>BigInteger</code>或<code>BigDecimal</code>.</p>
<p><strong>BigInteger</strong>支持任意精度的整数.</p>
<p><strong>BigDecimal</strong>支持任意精度的定点数. 可以用它进行精确的货币计算.</p>
<p>Java取保数组会被初始化, 而且不能在它的范围之外被访问. 这种范围检查, 是以每个数组少量的内存开销及运行时的下标检查为代价的. </p>
<p><code>null</code>表示这个引用没有指向某个对象. 在使用任何引用前, 必须为其指定一个对象.</p>
<p>创建存放基本数据类型的数组时, Java会自动将数组全部初始化为0.</p>
<p><strong>作用域</strong>决定了在其内定义的变量名的可见性和生命周期. Java中, 作用域由花括号的位置决定.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="keyword">int</span> x = <span class="number">12</span>;</div><div class="line">  <span class="comment">// Only x available</span></div><div class="line">  &#123;</div><div class="line">    <span class="keyword">int</span> q = <span class="number">96</span>;</div><div class="line">    <span class="comment">// Both x &amp; q available</span></div><div class="line">  &#125;</div><div class="line">  <span class="comment">// Only x available</span></div><div class="line">  <span class="comment">// q is "out of scope"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在作用域里定义的变量只可以用于作用于结束之前</p>
<p>在Java中不能这样写:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="keyword">int</span> x = <span class="number">12</span>;</div><div class="line">  &#123;</div><div class="line">    <span class="keyword">int</span> x = <span class="number">96</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Java设计者认为这会导致程序混乱.</p>
<p>Java对象不具备和基本类型一样的生命周期. 当用<code>new</code>创建一个Java对象时,  它可以存活于作用域之外. 例如:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  String s = <span class="keyword">new</span> String(<span class="string">"a string"</span>)</div><div class="line">&#125; <span class="comment">// End of scope</span></div></pre></td></tr></table></figure>
<p>引用<code>s</code>在作用域终点就消失了. 然而, <code>s</code>指向的String对象仍继续占据内存空间.</p>
<p>Java使用<strong>垃圾回收器</strong>, 监视用<code>new</code>创建的所有对象, 辨别那些不会再被引用的对象. 随后, 释放这些对象的内存空间. </p>
<p>使用关键字<strong>class</strong>来表示”我准备告诉你一种新类型的对象看起来像什么样子”. 例如:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ATypeName</span> </span>&#123; <span class="comment">/* Class body goes here */</span> &#125;</div></pre></td></tr></table></figure>
<p>字段可以是任何类型的对象, 可以通过其引用与其进行通信; 也可以是基本类型中的一种. 如果字段是对某个对象的引用, 那么必须初始化该引用, 以便使其与一个实际对象相关联.</p>
<p>每个对象都有用来存储其字段的空间; 普通字段不能再对象间共享. 例如:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataOnly</span> </span>&#123;</div><div class="line">  <span class="keyword">int</span> i;</div><div class="line">  <span class="keyword">double</span> d;</div><div class="line">  <span class="keyword">boolean</span> b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在对象引用的名称之后紧接着一个句点,  然后再接着是对象内部的成员名称:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">objectReference.member</div></pre></td></tr></table></figure>
<p>如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">DataOnly data = <span class="keyword">new</span> DataOnly();</div><div class="line">data.i = <span class="number">47</span>;</div><div class="line">data.d = <span class="number">1.1</span>;</div><div class="line">data.b = <span class="keyword">false</span>;</div></pre></td></tr></table></figure>
<p>类中的某个成员是基本数据类型, 即使没有进行初始化, Java也会确保它获得一个默认值.</p>
<table>
<thead>
<tr>
<th style="text-align:center">基本类型</th>
<th style="text-align:center">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">boolean</td>
<td style="text-align:center">false</td>
</tr>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:center">‘\u0000’(null)</td>
</tr>
<tr>
<td style="text-align:center">byte</td>
<td style="text-align:center">(byte) 0</td>
</tr>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:center">(short) 0</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:center">0L</td>
</tr>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">0.0f</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">0.0d</td>
</tr>
</tbody>
</table>
<p>局部变量不会Java不会初始化默认值. 如果在某个方法定义中有<code>int x;</code>, 这个x得到的可能是任意值, 而不会被自动初始化为0.</p>
<p>方法的基本组成部分包括: 名称, 参数, 返回值, 方法体.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function">ReturnType <span class="title">methodName</span><span class="params">( <span class="comment">/* Argument list */</span>)</span> </span>&#123;</div><div class="line">  <span class="comment">/* Method body */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>返回类型描述在调用方法后从方法返回的值.</p>
<p>参数列表给出要传给方法的信息的类型和名称.</p>
<p><strong>方法名和参数列表</strong>唯一标识一个方法</p>
<p>在调用方法是实际上传递的是对象的引用.</p>
<p><strong>return</strong>关键字用法: </p>
<ol>
<li>代表已经做完, 离开此方法</li>
<li>如果此方法产生一个值, 这个值要放在return语句后面.</li>
</ol>
<p><strong>static</strong>关键字使用情形:</p>
<ol>
<li>只想为某个特定的域分配单一存储空间, 不去考虑究竟要创建多少对象, 甚至根本不创建任何对象</li>
<li>希望某个方法不与包含它的类的任何对象关联. 即使不创建对象, 也能调用这个方法.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticTest</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="keyword">int</span> i = <span class="number">47</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>static变量只分配一份存储空间, 即使你创建了两个StaticTest对象.</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

